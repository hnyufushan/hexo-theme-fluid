---
title: 经典代码汇总
date: 2024-01-18 13:19:56
permalink: /pages/20008.html
categories: 
  - 编程世界
  - Java学习笔记
tags: 
  - null

description: 
---

经典代码汇总

### 弹出框强行关闭提示
```js
//关闭提示
window.onbeforeunload=function (){
	if(event.clientX>(document.body.clientWidth-10) && event.clientY < 0 || event.altKey){
		return "当前页面尚未保存，离开后可能会导致数据丢失，是否继续离开？";
	}
 }
```
### input输入框中只能输入数字
```js
onKeyUp="value=value.replace(/[^\d]/g,'')"
```
### 隐藏滚动条
```html
<body class="contentFrame_body" style="overflow: hidden;">
```
### 隐藏滚动条支持滑动
jsp
```html
<body onload="init();" class="scroll_content">
```
css:
```css
/*webkit内核*/
.scroll_content::-webkit-scrollbar {
    width:0px;
    height:0px;
}
.scroll_content::-webkit-scrollbar-button    {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar-track     {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar-track-piece {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar-thumb{
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar-corner {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar-resizer  {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-webkit-scrollbar {
    width:10px;
    height:10px;
}
/*o内核*/
.scroll_content .-o-scrollbar{
    -moz-appearance: none !important;   
    background: rgba(0,255,0,0) !important;  
}
.scroll_content::-o-scrollbar-button    {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-o-scrollbar-track     {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-o-scrollbar-track-piece {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-o-scrollbar-thumb{
    background-color:rgba(0,0,0,0);
}
.scroll_content::-o-scrollbar-corner {
    background-color:rgba(0,0,0,0);
}
.scroll_content::-o-scrollbar-resizer  {
    background-color:rgba(0,0,0,0);
}
/*IE10,IE11,IE12*/
.scroll_content{
    -ms-scroll-chaining: chained;
    -ms-overflow-style: none;
    -ms-content-zooming: zoom;
    -ms-scroll-rails: none;
    -ms-content-zoom-limit-min: 100%;
    -ms-content-zoom-limit-max: 500%;
    -ms-scroll-snap-type: proximity;
    -ms-scroll-snap-points-x: snapList(100%, 200%, 300%, 400%, 500%);
    -ms-overflow-style: none;
    overflow: auto;
}
```
js:
```js
<script language="javascript" type="text/javascript" src="${pageContext.request.contextPath}/javascript/jquery/jquery-1.7.2.min.js"></script>
//FF下用JS实现自定义滚动条
$(".scroll_content").niceScroll({cursorborder:"",cursorcolor:"rgba(0,0,0,0)",boxzoom:true});
```
### 验证手机号码电话号码
```js
if(telephone!="" && !checkTelephone(telephone) && !checkMobile(telephone)){
ymPrompt.alert('电话格式不正确，请输入正确的电话格式！',null,null,'信息提示',null);
return false;
}
//固定电话校验（TRUE=正确，FALSE=错误）
//函数编码：1000
function checkTelephone(check_var){
       var filter_1 = /^\d{3,4}-[1-9]{1}\d{6,7}$/;//区号-电话号码
       var filter_2 = /^\d{3,4}-[1-9]{1}\d{6,7}-\d{1,5}$/;//区号-电话号码-分机号
var filter_3 = /^[1-9]{1}\d{6,7}$/;//电话号码
var filter_4 = /^[1-9]{1}\d{6,7}-\d{1,4}$/;//电话号码-分机号
	return filter_1.test(check_var) || filter_2.test(check_var) || filter_3.test(check_var) || filter_4.test(check_var);
}
//手机（不包含小灵通）校验（TRUE=正确，FALSE=错误）
//函数编码：1001
function checkMobile(check_var){
	var filter_1 = /^1\d{10}$/;//手机号码
    	var filter_2 = /^1\d{10}-\d{1,5}$/;//手机号码-分机号
	return filter_1.test(check_var)||filter_2.test(check_var);
}
```
### jsp页面虚线写法
```html
<tr id="line2"><td height="14px;"><hr style="height:1px;border:none;border-top:1px dashed #8E8E8E;" /></td></tr>
```
### 兼容ie9浏览器
```html
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" />
```
### 循环判断页面的复选框至少有一个被选中
```html
var inspectionTypenum = 0;										
$("input[name='pInspectionTypeId']").each(function(){										
     	if($(this).attr("checked")=="checked"){							
     		inspectionTypenum++;						
     	}							
});								
if(inspectionTypenum==0){										
     	ymPrompt.alert('请如实填写检查内容情况！',null,null,'信息提示',null);							
         return false;								
}
```
### checkbox框循环取值(checkBoxClass2)
```js
var chk_value =[];//定义一个数组
 $("input[name='certificate']").each(function(){										
		     	if($(this).parent().attr("class")=="checkBoxClass2"){
		     		chk_value.push($(this).val());//将选中的值添加到数组chk_value中
    }
});
```
### radio/input选中值获得jQuery
```js
$("input[name='queryWrituse']:checked").val();
weekGroup = $('#weekGroup option:selected') .val();//下拉框值获取
```
### 表格多层循环jstl嵌套
![](https://fsvip.gitee.io/imgs/pic/41008/8.png)

```html
<c:forEach var="planmattertype1331" items="${planmattertype1331list}" varStatus="s">
	<c:set value="p${planmattertype1331.checkplanmattertypeid}" var="filekey" />
	<c:forEach var="type1331" items="${requestScope[filekey] }" varStatus="s1">
		<tr>
			<c:if test="${s1.index=='0'}">
				<td rowspan="${fn:length(requestScope[filekey]) }" style="background:#fff;padding:3px;text-align: center;">${s.index+1 }</td>
				<td rowspan="${fn:length(requestScope[filekey]) }" style="background:#fff;padding:3px;text-align: left;">${planmattertype1331.checkplanmattertypename }</td>
			</c:if>
			<td style="background:#fff;padding:3px;text-indent: 10px;">
				${type1331.checkplanmattertypename }
				<input type="hidden" id="placcidentContent${s1.index+1 }" value="${type1331.checkplanmattertypename }"/>
			</td>
			<td style="background:#fff;" align="center">
				<input type="checkbox" name="pInspectionTypeId${s1.index+1 }" value="${type1331.checkplanmattertypeid }"/>
			</td>
		</tr>
	</c:forEach>
</c:forEach>
```
### js定义数组 数组添加数值 拼接字符串
```js
var name_array=new Array();
$("input[name='fieldSelect']:checked").each(function () {
       name_array.push($(this).val());//向数组中添加元素  
 });
var namestr=name_array.join(',');//将数组元素连接起来以构建一个字符串
```
### 对set集合进行排序
```java
Set<RRectificationstage1151> rectificationstage1151s = rectificationsum1154.getRRectificationofrelease1150().getRRectificationstage1151s();
//set集合转换为list集合
 List<RRectificationstage1151> r1151List = new ArrayList<RRectificationstage1151>(rectificationstage1151s);
//对数据进行排序
Collections.sort(r1151List, new Comparator<RRectificationstage1151>(){
		public int compare(RRectificationstage1151 arg0,RRectificationstage1151 arg1) {
				if(arg0.getSortnumber().contains(".") && arg1.getSortnumber().contains(".") && arg0.getSortnumber().split("\\.")[0].equals(arg1.getSortnumber().split("\\.")[0])){
					if(Long.parseLong(arg0.getSortnumber().split("\\.")[1])>Long.parseLong(arg1.getSortnumber().split("\\.")[1])){
						return 1;
					}else{
						return 0;
					}
				}
				return -1;
			}
	});
this.getRequest().setAttribute("s_"+rectificationsum1154.getRectificationsumid().toString(), r1151List);
```
### 弹出框关闭提示
```js
//关闭提示
window.onbeforeunload=function (){
	return "当前页面尚未保存，离开后可能会导致数据丢失，是否继续离开？";
}
```
### URL中的参数进行简单加密处理逻辑
引入：
```js
<script src="${pageContext.request.contextPath}/javascript/base64.js" charset="utf-8"></script>
```
js加密
```js
var base = new Base64();
	var flag = base.encode("view");
	var valid=base.encode("0");
	var inpectionDays=base.encode(inpectionDays);
	window.showModalDialog("${pageContext.request.contextPath}/committeeoffice/inpectiondays!inpectionDaysStatisticsQueryForword.action?flag="+flag+"&isValid="+valid
```
java解密：
```js
if(inpectionDays!=null && !inpectionDays.equals("")) inpectionDays = new String((new BASE64Decoder()).decodeBuffer(inpectionDays),"utf-8");
```
### 动态显示隐藏元素
```js
$(".party1").click(function(){
    	$("#party1").toggle(1000);
 });
```
